(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{BN2O:function(t,a,s){var e=s("dHXa");"string"==typeof e&&(e=[[t.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(e,r);e.locals&&(t.exports=e.locals)},PSuA:function(t,a,s){"use strict";s.r(a);var e={data:function(){return{user:{email:"",password:""},tutor:{email:"",password:""},spin:!1}},methods:{submit:function(){var t=this;this.spin=!0;var a={grant_type:"password",client_id:2,client_secret:"7yRvzmjeVaIpSUJKBW5PCfkVCVSBauhRwRgEvt36",username:this.user.email,password:this.user.password},s={};axios.post("/oauth/token",a).then((function(a){200==a.status&&(s.access_token=a.data.access_token,s.refresh_token=a.data.refresh_token,axios.get("/api/user",{headers:{Authorization:"Bearer ".concat(a.data.access_token)}}).then((function(a){200===a.status&&(t.spin=!1,s.id=a.data.id,s.email=a.data.email,s.level=a.data.student_level,s.name=a.data.name,s.school_id=a.data.school_id,s.school=a.data.school,s.abbreviation=a.data.abbreviation,s.profile=a.data.profile,s.sub_class=a.data.sub_class,s.student_level=a.data.student_level,localStorage.setItem("typeStudent",JSON.stringify(s)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),t.$route.query.redirect?t.$router.push(t.$route.query.redirect):(t.$toasted.info("Redirecting to dashboard.."),window.location.href="/student"))})).catch((function(a){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(a){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))},tutorLogin:function(){var t=this;this.spin=!0;var a={grant_type:"password",client_id:3,client_secret:"MK7qWmbsqhwtUXfr3f3OgEm0uHLw3hm3EsGycQDs",username:this.tutor.email,password:this.tutor.password},s={};axios.post("/oauth/token",a).then((function(a){200==a.status&&(s.access_token=a.data.access_token,s.refresh_token=a.data.refresh_token,axios.get("/api/tutorDetails",{headers:{Authorization:"Bearer ".concat(a.data.access_token)}}).then((function(a){200===a.status&&(t.spin=!1,s.id=a.data.id,s.email=a.data.email,s.name=a.data.name,s.school=a.data.school,s.abbreviation=a.data.abbreviation,s.profile=a.data.profile,localStorage.setItem("typeTutor",JSON.stringify(s)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),window.location.href="/tutor")})).catch((function(a){console.log("submit -> error",a),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(a){console.log("submit -> error",a),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))}}},r=(s("w3mf"),s("KHd+")),i=Object(r.a)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main-login"},[s("b-container",[s("b-row",[s("b-col",[s("img",{attrs:{src:"/images/footer-logo.png",alt:""}})]),t._v(" "),s("b-col",[s("b-card",{staticClass:"login-card"},[s("h4",{staticClass:"text-center"},[t._v("LOG IN")]),t._v(" "),s("div",{staticClass:"login-tabs"},[s("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[s("b-tab",{staticClass:"login",attrs:{title:"Student",active:""}},[s("b-form",{staticClass:"login-form",on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Email"}},[s("b-form-input",{attrs:{id:"input-1",type:"email",required:""},model:{value:t.user.email,callback:function(a){t.$set(t.user,"email",a)},expression:"user.email"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"input-group-2",label:"Password"}},[s("b-form-input",{attrs:{id:"input-2",type:"password",required:""},model:{value:t.user.password,callback:function(a){t.$set(t.user,"password",a)},expression:"user.password"}}),t._v(" "),s("button",{staticClass:"reg-btn",attrs:{type:"submit"}},[t._v("\n                      STUDENT\n                      "),t.spin?s("b-spinner",{staticClass:"ml-2",attrs:{variant:"",small:"",label:"small spinner",type:"grow"}}):t._e()],1),t._v(" "),s("a",{staticClass:"s",attrs:{href:""}},[t._v("forgot Password?")])],1)],1)],1),t._v(" "),s("b-tab",{staticClass:"login",attrs:{title:"Tutor"}},[s("b-form",{staticClass:"login-form",on:{submit:function(a){return a.preventDefault(),t.tutorLogin(a)}}},[s("b-form-group",{attrs:{id:"input-group-3",label:"Email"}},[s("b-form-input",{attrs:{id:"input-3",type:"email",required:""},model:{value:t.tutor.email,callback:function(a){t.$set(t.tutor,"email",a)},expression:"tutor.email"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"input-group-4",label:"Password"}},[s("b-form-input",{attrs:{id:"input-4",type:"password",required:""},model:{value:t.tutor.password,callback:function(a){t.$set(t.tutor,"password",a)},expression:"tutor.password"}}),t._v(" "),s("button",{staticClass:"reg-btn",attrs:{type:"submit"}},[t._v("\n                      TUTOR\n                      "),t.spin?s("b-spinner",{staticClass:"ml-2",attrs:{variant:"",small:"",label:"small spinner",type:"grow"}}):t._e()],1),t._v(" "),s("a",{attrs:{href:""}},[t._v("forgot password?")])],1)],1)],1)],1)],1)])],1)],1)],1)],1)}),[],!1,null,"f68394c2",null);a.default=i.exports},dHXa:function(t,a,s){(t.exports=s("I1BE")(!1)).push([t.i,"\nlabel[data-v-f68394c2] {\n  position: relative;\n  margin-bottom: 0;\n  vertical-align: top;\n  font-size: 1.25rem;\n  line-height: 1.5;\n}\n.text-muted[data-v-f68394c2] {\n  color: rgba(0, 0, 0, 0.4) !important;\n}\n",""])},w3mf:function(t,a,s){"use strict";var e=s("BN2O");s.n(e).a}}]);