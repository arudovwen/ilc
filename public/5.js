(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PSuA:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{user:{type:!1,email:"",password:""},spin:!1}},methods:{submit:function(){var t=this;if(this.spin=!0,this.user.type){this.spin=!0;var e={grant_type:"password",client_id:3,client_secret:"MK7qWmbsqhwtUXfr3f3OgEm0uHLw3hm3EsGycQDs",username:this.user.email,password:this.user.password},s={};axios.post("/oauth/token",e).then((function(e){200==e.status&&(s.access_token=e.data.access_token,s.refresh_token=e.data.refresh_token,axios.get("/api/tutorDetails",{headers:{Authorization:"Bearer ".concat(e.data.access_token)}}).then((function(e){200===e.status&&(t.spin=!1,s.id=e.data.id,s.email=e.data.email,s.name=e.data.name,localStorage.setItem("typeTutor",JSON.stringify(s)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),t.$router.push("/tutor"))})).catch((function(e){console.log("submit -> error",e),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(e){console.log("submit -> error",e),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))}else{var a={grant_type:"password",client_id:2,client_secret:"7yRvzmjeVaIpSUJKBW5PCfkVCVSBauhRwRgEvt36",username:this.user.email,password:this.user.password},r={};axios.post("/oauth/token",a).then((function(e){200==e.status&&(r.access_token=e.data.access_token,r.refresh_token=e.data.refresh_token,axios.get("/api/user",{headers:{Authorization:"Bearer ".concat(e.data.access_token)}}).then((function(e){200===e.status&&(t.spin=!1,r.id=e.data.id,r.email=e.data.email,r.level=e.data.student_level,r.name=e.data.name,r.school_id=e.data.school_id,r.school=e.data.school,localStorage.setItem("typeStudent",JSON.stringify(r)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),t.$route.query.redirect?t.$router.push(t.$route.query.redirect):(t.$toasted.info("Redirecting to dashboard.."),t.$router.push("/student")))})).catch((function(e){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(e){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))}}}},r=(s("UODR"),s("KHd+")),i=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"register-section"},[t._m(0),t._v(" "),s("div",{staticClass:"form-side"},[s("h2",{staticClass:"text-center"},[t._v("LOGIN")]),t._v(" "),s("b-container",{staticClass:"bv-example-row"},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("b-form-row",[s("b-col",{staticClass:"text-center d-flex align-items-center justify-content-center"},[s("label",{staticClass:" mr-3",class:{"text-muted":t.user.type}},[t._v(" Student")]),t._v(" "),s("b-form-checkbox",{class:{"text-muted":!t.user.type},attrs:{switch:"",size:"lg"},model:{value:t.user.type,callback:function(e){t.$set(t.user,"type",e)},expression:"user.type"}},[t._v("Tutor")])],1)],1),t._v(" "),s("b-form-row",[s("b-col",[s("b-form-group",{attrs:{id:"input-group-2",label:"Email ","label-for":"input-2"}},[s("b-form-input",{attrs:{id:"input-8",type:"email",required:"",placeholder:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),s("b-form-group",{attrs:{id:"input-group-3",label:"Password","label-for":"input-3"}},[s("b-form-input",{attrs:{id:"input-3",type:"password",required:"",placeholder:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1)],1),t._v(" "),s("button",{staticClass:"reg-btn",attrs:{type:"submit"}},[t._v(t._s(t.user.type?"TUTOR":"STUDENT")+" LOGIN "),t.spin?s("b-spinner",{staticClass:"ml-2",attrs:{variant:"",small:"",label:"small spinner",type:"grow"}}):t._e()],1),t._v(" "),s("p",{staticClass:"form-txt my-3"},[t._v("\n           Don't have an account??\n            "),s("span",[s("router-link",{attrs:{to:"/school/register"}},[t._v("Register")])],1)])],1)],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-side"},[e("div",{staticClass:"header-logo text-center"},[e("img",{attrs:{src:"/images/logo-ilc-single.png",alt:""}}),this._v(" "),e("h6",[this._v("IMO STATE LEARNING CENTER")])]),this._v(" "),e("h2",[this._v("Welcome!!!!!")]),this._v(" "),e("div",[this._v("Â© Copyright 2020 Couer")])])}],!1,null,"163df8eb",null);e.default=i.exports},UODR:function(t,e,s){"use strict";var a=s("szdu");s.n(a).a},V5xF:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\nlabel[data-v-163df8eb]{\r\n      position: relative;\r\n    margin-bottom: 0;\r\n    vertical-align: top;\r\n    font-size: 1.25rem;\r\n    line-height: 1.5;\n}\n.text-muted[data-v-163df8eb]{\r\n  color: rgba(0, 0, 0, 0.4) !important;\n}\r\n",""])},szdu:function(t,e,s){var a=s("V5xF");"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,r);a.locals&&(t.exports=a.locals)}}]);