(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PSuA:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{user:{email:"",password:""},tutor:{email:"",password:""},spin:!1}},methods:{submit:function(){var t=this;this.spin=!0;var a={grant_type:"password",client_id:2,client_secret:"7yRvzmjeVaIpSUJKBW5PCfkVCVSBauhRwRgEvt36",username:this.user.email,password:this.user.password},e={};axios.post("/oauth/token",a).then((function(a){200==a.status&&(e.access_token=a.data.access_token,e.refresh_token=a.data.refresh_token,axios.get("/api/user",{headers:{Authorization:"Bearer ".concat(a.data.access_token)}}).then((function(a){200===a.status&&(t.spin=!1,e.id=a.data.id,e.email=a.data.email,e.level=a.data.student_level,e.name=a.data.name,e.school_id=a.data.school_id,e.school=a.data.school,e.abbreviation=a.data.abbreviation,e.profile=a.data.profile,e.student_level=a.data.student_level,localStorage.setItem("typeStudent",JSON.stringify(e)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),t.$route.query.redirect?t.$router.push(t.$route.query.redirect):(t.$toasted.info("Redirecting to dashboard.."),t.$router.push("/student")))})).catch((function(a){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(a){t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))},tutorLogin:function(){var t=this;this.spin=!0;var a={grant_type:"password",client_id:3,client_secret:"MK7qWmbsqhwtUXfr3f3OgEm0uHLw3hm3EsGycQDs",username:this.tutor.email,password:this.tutor.password},e={};axios.post("/oauth/token",a).then((function(a){200==a.status&&(e.access_token=a.data.access_token,e.refresh_token=a.data.refresh_token,axios.get("/api/tutorDetails",{headers:{Authorization:"Bearer ".concat(a.data.access_token)}}).then((function(a){200===a.status&&(t.spin=!1,e.id=a.data.id,e.email=a.data.email,e.name=a.data.name,e.school=a.data.school,e.abbreviation=a.data.abbreviation,e.profile=a.data.profile,localStorage.setItem("typeTutor",JSON.stringify(e)),t.$toasted.success("Logged in Sucessfully",{icon:{name:"fingerprint"}}),t.$router.push("/tutor"))})).catch((function(a){console.log("submit -> error",a),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1})))})).catch((function(a){console.log("submit -> error",a),t.$toasted.error("Invalid credentials",{icon:{name:"user-times"}}),t.spin=!1}))}}},r=(e("kFq2"),e("KHd+")),o=Object(r.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-login"},[e("b-container",[e("b-row",[e("b-col",[e("img",{attrs:{src:"/images/footer-logo.png",alt:""}})]),t._v(" "),e("b-col",[e("b-card",{staticClass:"login-card"},[e("h4",{staticClass:"text-center"},[t._v("LOG IN")]),t._v(" "),e("div",{staticClass:"login-tabs"},[e("b-tabs",{attrs:{"content-class":"mt-3"}},[e("b-tab",{staticClass:"login",attrs:{title:"Student",active:""}},[e("b-form",{staticClass:"login-form",on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("b-form-group",{attrs:{id:"input-group-1",label:"Email"}},[e("b-form-input",{attrs:{id:"input-1",type:"email",required:""},model:{value:t.user.email,callback:function(a){t.$set(t.user,"email",a)},expression:"user.email"}})],1),t._v(" "),e("b-form-group",{attrs:{id:"input-group-2",label:"Password"}},[e("b-form-input",{attrs:{id:"input-2",type:"password",required:""},model:{value:t.user.password,callback:function(a){t.$set(t.user,"password",a)},expression:"user.password"}}),t._v(" "),e("button",{staticClass:"reg-btn",attrs:{type:"submit"}},[t._v("\n                      STUDENT\n                      "),t.spin?e("b-spinner",{staticClass:"ml-2",attrs:{variant:"",small:"",label:"small spinner",type:"grow"}}):t._e()],1),t._v(" "),e("a",{staticClass:"s",attrs:{href:""}},[t._v("forgot Password?")])],1)],1)],1),t._v(" "),e("b-tab",{staticClass:"login",attrs:{title:"Tutor"}},[e("b-form",{staticClass:"login-form",on:{submit:function(a){return a.preventDefault(),t.tutorLogin(a)}}},[e("b-form-group",{attrs:{id:"input-group-1",label:"Email"}},[e("b-form-input",{attrs:{id:"input-1",type:"email",required:""},model:{value:t.tutor.email,callback:function(a){t.$set(t.tutor,"email",a)},expression:"tutor.email"}})],1),t._v(" "),e("b-form-group",{attrs:{id:"input-group-2",label:"Password"}},[e("b-form-input",{attrs:{id:"input-2",type:"password",required:""},model:{value:t.tutor.password,callback:function(a){t.$set(t.tutor,"password",a)},expression:"tutor.password"}}),t._v(" "),e("button",{staticClass:"reg-btn",attrs:{type:"submit"}},[t._v("\n                      TUTOR\n                      "),t.spin?e("b-spinner",{staticClass:"ml-2",attrs:{variant:"",small:"",label:"small spinner",type:"grow"}}):t._e()],1),t._v(" "),e("a",{attrs:{href:""}},[t._v("forgot password?")])],1)],1)],1)],1)],1)])],1)],1)],1)],1)}),[],!1,null,"4616999c",null);a.default=o.exports},kFq2:function(t,a,e){"use strict";var s=e("rIrv");e.n(s).a},rIrv:function(t,a,e){var s=e("zOmL");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,r);s.locals&&(t.exports=s.locals)},zOmL:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\nlabel[data-v-4616999c] {\n  position: relative;\n  margin-bottom: 0;\n  vertical-align: top;\n  font-size: 1.25rem;\n  line-height: 1.5;\n}\n.text-muted[data-v-4616999c] {\n  color: rgba(0, 0, 0, 0.4) !important;\n}\n",""])}}]);